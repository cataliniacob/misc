#!/bin/bash

usage="Usage: $0 <venvname> [<requirements-file-name>]"

venvname=$1

if [ $# -eq 1 ]; then
    reqfile_base=$venvname
elif [ $# -eq 2 ]; then
    reqfile_base=$2
else
    echo $usage;
    exit 1;
fi

reqfile_dir=`dirname $0`
reqfile="$reqfile_dir/$reqfile_base.req"

virtualenv --no-site-packages -p /home/catalin/data/hacking/cpython/2.7-install/bin/python $venvname
cd $venvname
. bin/activate
pip install -r "../$reqfile"
